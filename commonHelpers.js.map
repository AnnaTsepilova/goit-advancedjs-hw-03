{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_urj9GAxx5dkR86xc7lJwNCHYYTGppgioMGB2yZOEpWj1xaxNhJ9c676rynGXhU5Z';\n\nfunction fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds');\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  );\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nconst slimSelect = new SlimSelect({\n  select: '#selectElement',\n  settings: {\n    placeholderText: 'Search breeds',\n  },\n  events: {\n    afterChange: newVal => {\n      loader.classList.remove('visually-hidden');\n      catInfo.innerHTML = '';\n      onBreedClick(newVal);\n    },\n  },\n});\n\nfunction errorMessage() {\n  iziToast.show({\n    title: 'Error',\n    message: 'Oops! Something went wrong! Try reloading the page!',\n    position: 'topRight',\n    color: 'red',\n  });\n}\n\nloader.classList.remove('visually-hidden');\n\nfetchBreeds()\n  .then(function ({ data }) {\n    let optionsList = [];\n    data.map(catBreed => {\n      optionsList.push({ text: catBreed.name, value: catBreed.id });\n    });\n\n    slimSelect.setData([{ placeholder: true, text: '' }, ...optionsList]);\n\n    loader.classList.add('visually-hidden');\n  })\n  .catch(function (error) {\n    errorMessage();\n    console.log('Error message', error.message);\n  });\n\nfunction onBreedClick(value) {\n  fetchCatByBreed(value[0].value)\n    .then(function ({ data }) {\n      if (!data[0].breeds[0]) {\n        loader.classList.add('visually-hidden');\n        return;\n      }\n      const { name, description, temperament, origin, country_code } =\n        data[0].breeds[0];\n      catInfo.innerHTML = `\n        <img src=\"${data[0].url}\" alt=\"${name}\" title=\"${name}\" width=\"750\" class=\"cat-photo\">\n        <div class=\"cat-info_wrapper\">\n            <h1 class=\"cat-name\">${name}</h1>\n            <p class=\"cat-descr\">${description}</p>\n            <h2 class=\"title\">Temperament:</h2>\n            <p class=\"cat-descr\">${temperament}</p>\n            \n            <h2 class=\"title\">Location:</h2>\n            <div class=\"cat-location\">\n                <img\n                    alt=\"${origin}\"\n                    src=\"http://purecatamphetamine.github.io/country-flag-icons/3x2/${country_code}.svg\" width=\"20\"/>\n                <span>${origin}</span>\n            </div>\n        </div>`;\n      loader.classList.add('visually-hidden');\n    })\n    .catch(function (error) {\n      errorMessage();\n      console.log('Error message', error.message);\n    });\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","catInfo","loader","slimSelect","SlimSelect","newVal","onBreedClick","errorMessage","iziToast","data","optionsList","catBreed","error","value","name","description","temperament","origin","country_code"],"mappings":"+vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,SAASC,GAAc,CACrB,OAAOD,EAAM,IAAI,qCAAqC,CACxD,CAEA,SAASE,EAAgBC,EAAS,CAChC,OAAOH,EAAM,IACX,wDAAwDG,GAC5D,CACA,CCLA,MAAMC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAa,IAAIC,EAAW,CAChC,OAAQ,iBACR,SAAU,CACR,gBAAiB,eAClB,EACD,OAAQ,CACN,YAAaC,GAAU,CACrBH,EAAO,UAAU,OAAO,iBAAiB,EACzCD,EAAQ,UAAY,GACpBK,EAAaD,CAAM,CACpB,CACF,CACH,CAAC,EAED,SAASE,GAAe,CACtBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,sDACT,SAAU,WACV,MAAO,KACX,CAAG,CACH,CAEAN,EAAO,UAAU,OAAO,iBAAiB,EAEzCJ,EAAa,EACV,KAAK,SAAU,CAAE,KAAAW,GAAQ,CACxB,IAAIC,EAAc,CAAA,EAClBD,EAAK,IAAIE,GAAY,CACnBD,EAAY,KAAK,CAAE,KAAMC,EAAS,KAAM,MAAOA,EAAS,EAAE,CAAE,CAClE,CAAK,EAEDR,EAAW,QAAQ,CAAC,CAAE,YAAa,GAAM,KAAM,EAAI,EAAE,GAAGO,CAAW,CAAC,EAEpER,EAAO,UAAU,IAAI,iBAAiB,CAC1C,CAAG,EACA,MAAM,SAAUU,EAAO,CACtBL,IACA,QAAQ,IAAI,gBAAiBK,EAAM,OAAO,CAC9C,CAAG,EAEH,SAASN,EAAaO,EAAO,CAC3Bd,EAAgBc,EAAM,GAAG,KAAK,EAC3B,KAAK,SAAU,CAAE,KAAAJ,GAAQ,CACxB,GAAI,CAACA,EAAK,GAAG,OAAO,GAAI,CACtBP,EAAO,UAAU,IAAI,iBAAiB,EACtC,MACD,CACD,KAAM,CAAE,KAAAY,EAAM,YAAAC,EAAa,YAAAC,EAAa,OAAAC,EAAQ,aAAAC,CAAc,EAC5DT,EAAK,GAAG,OAAO,GACjBR,EAAQ,UAAY;AAAA,oBACNQ,EAAK,GAAG,aAAaK,aAAgBA;AAAA;AAAA,mCAEtBA;AAAA,mCACAC;AAAA;AAAA,mCAEAC;AAAA;AAAA;AAAA;AAAA;AAAA,2BAKRC;AAAA,sFAC2DC;AAAA,wBAC9DD;AAAA;AAAA,gBAGlBf,EAAO,UAAU,IAAI,iBAAiB,CAC5C,CAAK,EACA,MAAM,SAAUU,EAAO,CACtBL,IACA,QAAQ,IAAI,gBAAiBK,EAAM,OAAO,CAChD,CAAK,CACL"}